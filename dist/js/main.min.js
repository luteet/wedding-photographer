const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),burger=document.querySelector(".header__burger"),header=document.querySelector(".header");function resize(){html.style.setProperty("--height-screen",window.innerHeight+"px"),html.style.setProperty("--height-header",header.offsetHeight+"px")}body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_mob-menu-active")});let r=t(".btn-to-scroll");if(r){let t;e.preventDefault(),r.getAttribute("href").length>1&&(t=document.querySelector(r.getAttribute("href"))),menu.forEach(e=>{e.classList.remove("_mob-menu-active")}),window.scroll({left:0,top:t?t.offsetTop:0,behavior:"smooth"})}})),resize(),window.onresize=resize;let sliderstartBg=new Swiper(".start__bg",{spaceBetween:0,slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!1}});const startNavLink=document.querySelectorAll(".start__nav a");function grid(){let e,t=new Masonry(".grid",{itemSelector:".grid-item",transitionDuration:0}),r=document.querySelectorAll(".lazy");function o(){e=Math.abs(body.getBoundingClientRect().y);let t=window.innerHeight;r.forEach((e,r)=>{if(e.getBoundingClientRect().y-t<=0&&!e.classList.contains("_loaded")){e.setAttribute("src",e.dataset.src);const t=e.closest("picture");if(t){t.querySelectorAll("source").forEach(e=>{e.setAttribute("srcset",e.dataset.srcset)})}}})}setTimeout(()=>{o();document.querySelectorAll(".grid-item").forEach(e=>{const r=e.querySelector("img");r.addEventListener("load",(function(){e.style.setProperty("--aspect-ratio",r.naturalHeight/r.naturalWidth*100+"%"),r.classList.add("_loaded"),t.layout(),setTimeout(()=>{e.classList.add("_loaded")},100),setTimeout(()=>{e.classList.add("_disabled-loading-anim")},400)}))}),document.addEventListener("scroll",o)},100)}startNavLink.forEach((e,t)=>{e.dataset.index=t,0==t&&e.classList.add("_active"),e.addEventListener("mouseenter",(function(){document.querySelectorAll(".start__nav a._active").forEach(e=>{e.classList.remove("_active")}),e.classList.add("_active");const t=Number(e.dataset.index);"number"==typeof t&&sliderstartBg.slideTo(t,300)}))});const gridBlock=document.querySelector(".grid");function headerScroll(e){function t(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset}}let r,o,s=document.querySelector(".header"),a=document.querySelector(".always-hide-header"),i=t(s),n=[!0,!0],c=!1,l=!1,d=[0,0],u="";function h(){d[0]=i.top,i=t(s),d[1]=i.top,c||(c=!0,r=i.top+100,o=i.top-50),d[0]>d[1]?u="up":d[0]<d[1]&&(u="down"),!l&&i.top>0?(l=!0,s.classList.remove("_top")):0==i.top&&(l=!1,s.classList.add("_top")),"down"==u&&(o=i.top-50),"up"==u&&(r=i.top+100),o>=i.top&&n[0]&&(n[0]=!1,n[1]=!0,s.classList.remove("_hide")),r<=i.top&&n[1]&&(n[1]=!1,n[0]=!0,s.classList.add("_hide")),a&&(a.getBoundingClientRect().y<=100&&!s.classList.contains("_always-hide")?s.classList.add("_always-hide"):a.getBoundingClientRect().y>100&&s.classList.contains("_always-hide")&&s.classList.remove("_always-hide"))}h(),document.addEventListener("scroll",h)}gridBlock&&grid(),headerScroll();const blogFilter=document.querySelectorAll(".blog-filter");blogFilter.forEach(e=>{e.querySelectorAll('input[type="radio"]').forEach(t=>{t.addEventListener("change",(function(){e.submit()}))})});