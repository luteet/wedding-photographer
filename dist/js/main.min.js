const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),burger=document.querySelector(".header__burger"),header=document.querySelector(".header");function resize(){html.style.setProperty("--height-screen",window.innerHeight+"px"),html.style.setProperty("--height-header",header.offsetHeight+"px")}body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_mob-menu-active")});let o=t(".btn-to-scroll");if(o){let t;e.preventDefault(),o.getAttribute("href").length>1&&(t=document.querySelector(o.getAttribute("href"))),menu.forEach(e=>{e.classList.remove("_mob-menu-active")}),window.scroll({left:0,top:t?t.offsetTop:0,behavior:"smooth"})}})),resize(),window.onresize=resize;const startBg=document.querySelector(".start__bg");if(startBg){let e=new Swiper(".start__bg",{spaceBetween:0,slidesPerView:1,autoplay:{delay:2e3,waitForTransition:!1},effect:"fade",fadeEffect:{crossFade:!1}});const t=document.querySelectorAll(".start__nav a");t.forEach((t,o)=>{o==e.activeIndex&&t.classList.add("_active")}),e.on("slideChangeTransitionEnd",(function(){e.autoplay.start()})),e.on("slideChangeTransitionStart",(function(){t.forEach((e,t)=>{e.classList.remove("_active")}),t.forEach((t,o)=>{o==e.activeIndex&&t.classList.add("_active")})})),t.forEach((t,o)=>{t.dataset.index=o,t.addEventListener("mouseenter",(function(){const o=Number(t.dataset.index);"number"==typeof o&&(e.autoplay.stop(),e.slideTo(o,300))}))})}function grid(){let e,t=new Masonry(".grid",{itemSelector:".grid-item",transitionDuration:0}),o=document.querySelectorAll(".lazy");function r(){e=Math.abs(body.getBoundingClientRect().y);let t=window.innerHeight;o.forEach((e,o)=>{if(e.getBoundingClientRect().y-t<=0&&!e.classList.contains("_loaded")){e.setAttribute("src",e.dataset.src);const t=e.closest("picture");if(t){t.querySelectorAll("source").forEach(e=>{e.setAttribute("srcset",e.dataset.srcset)})}}})}setTimeout(()=>{r();document.querySelectorAll(".grid-item").forEach(e=>{const o=e.querySelector("img");o.addEventListener("load",(function(){e.style.setProperty("--aspect-ratio",o.naturalHeight/o.naturalWidth*100+"%"),o.classList.add("_loaded"),t.layout(),setTimeout(()=>{e.classList.add("_loaded")},100),setTimeout(()=>{e.classList.add("_disabled-loading-anim")},400)}))}),document.addEventListener("scroll",r)},100)}const gridBlock=document.querySelector(".grid");function headerScroll(e){function t(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset}}let o,r,s=document.querySelector(".header"),a=document.querySelector(".always-hide-header"),n=t(s),i=[!0,!0],c=!1,l=!1,d=[0,0],u="";function h(){d[0]=n.top,n=t(s),d[1]=n.top,c||(c=!0,o=n.top+100,r=n.top-50),d[0]>d[1]?u="up":d[0]<d[1]&&(u="down"),!l&&n.top>0?(l=!0,s.classList.remove("_top")):0==n.top&&(l=!1,s.classList.add("_top")),"down"==u&&(r=n.top-50),"up"==u&&(o=n.top+100),r>=n.top&&i[0]&&(i[0]=!1,i[1]=!0,s.classList.remove("_hide")),o<=n.top&&i[1]&&(i[1]=!1,i[0]=!0,s.classList.add("_hide")),a&&(a.getBoundingClientRect().y<=100&&!s.classList.contains("_always-hide")?s.classList.add("_always-hide"):a.getBoundingClientRect().y>100&&s.classList.contains("_always-hide")&&s.classList.remove("_always-hide"))}h(),document.addEventListener("scroll",h)}gridBlock&&grid(),headerScroll();const blogFilter=document.querySelectorAll(".blog-filter");blogFilter.forEach(e=>{e.querySelectorAll('input[type="radio"]').forEach(t=>{t.addEventListener("change",(function(){e.submit()}))})});